# Official Requirements Document

Authors: Concetto Antonino Privitera

Date: 24/03/2020

Version: 1

Change history

| Version | Changes | 
| ----------------- |:-----------|
| 1 | Initial version  |



# Contents
- [Abstract](#abstract)
- [Stakeholders](#stakeholders)
- [Context Diagram and interfaces](#context-diagram-and-interfaces)
	+ [Context Diagram](#context-diagram)
	+ [Interfaces](#interfaces) 
	
- [Stories and personas](#stories-and-personas)
- [Functional and non functional requirements](#functional-and-non-functional-requirements)
	+ [Functional Requirements](#functional-requirements)
	+ [Non functional requirements](#non-functional-requirements)
- [Use case diagram and use cases](#use-case-diagram-and-use-cases)
	+ [Use case diagram](#use-case-diagram)
	+ [Use cases](#use-cases)
	+ [Relevant scenarios](#relevant-scenarios)
- [Glossary](#glossary)
- [System design](#system-design)
- [Deployment diagram](#deployment-diagram)

# Abstract

EZGas is a crowdsourcing service that allows users to:
- collect prices of fuels in different gas stations
- locate gas stations in an area, along with the prices they practice.

# Stakeholders

| Stakeholder name  | Description | 
| ----------------- |:-----------:|
| Administrator     |Manages prices of different gas stations| 
| Developers     |Manages problems of service| 
| User        |Uses the application for locating gas stations and requiring prices|
 | Google Maps        |External service to use offer service of maps|

# Context Diagram and interfaces

## Context Diagram

```plantuml
left to right direction
actor Administrator as a
actor Developer as de
actor User as u
actor Google_Maps as g
rectangle system {
	a -- (EZGas)
	de -- (EZGas)
	de -|> u
	a -|> u
	u -- (EZGas)
	g -- (EZGas)
}
```

## Interfaces
| Actor | Logical Interface | Physical Interface  |
| ------------- |:-------------:| -----:|
|Administrator|GUI |Screen, keyboard|
|Developer|GUI |Screen, keyboard|
|User|GUI |Screen, keyboard|
|Google Maps|Data Exchange |Network|


# Stories and personas
Most of people typically travel a lot by car, so they usual need to refuel their vehicle. An administrator of gas stations would like to reward those people that refuel a lot in these stations. The idea is to create a service (website and app) that allows users to get points useful to reedem  prices. These prices and points needed are established by the administrator for each gas stations by means a personal section in the website.

Users just need to create an account on the website/app to get a personal area where they can gather their points. Initially they have 0 points. To collect points, they have to refuel the vehicle and insert the code printed in the receipt. 1 euro of fuel corresponds to 1 point. The code expires after a week if it isn't inserted in the account.

User should be able to find gas stations that offer this service by means a map directly implemented in the website/app.

Each gas station can offer only prices physically available there. Users, that have enough points, can reedem prices by selecting a gas station. Doing so, the cost of prices selected is substracted from the points held. Then the user can collect them in the gas station selected.

# Functional and non functional requirements

## Functional Requirements

| ID        | Description  |
| ------------- |:-------------:| 
|  FR1     | Creation account User |  
|  FR3     | Record code receipt in account |
|  FR4     | Handle geolocalization and maps |
|  FR5     | Show points and price available in each gas station |
|  FR6     | Require price in a specific gas station |
|  FR7     | Manage prices available in each gas station and points needed |


## Non Functional Requirements

| ID        | Type (efficiency, reliability, .. see iso 9126)           | Description  | Refers to |
| ------------- |:-------------:| :-----:| -----:|
|  NFR1     | Usability | Application should be used with no training by any user  | All FR |
|  NFR2     | Performance | All functions should complete in < 0.5 sec  | All FR |
|  NFR3     | Portability | The app runs on Android (5 or newer) and IOS (7 or newer). The website should run in the most common browsers  | All FR |
|  NFR4     | Portability | App/website doesn't need the support on geolocalization (it can be insert manually) | All FR |
|  NFR5     | Localisation | Points are just integer ||


# Use case diagram and use cases

## Use case diagram

```plantuml
left to right direction
actor Administrator as a
actor User as u
actor Google_Maps as g
rectangle system {
	u ---> (FR1 Creation account User)
	a -> (FR3 Record code receipt in account)
	u -> (FR5 Show points and price available in each gas station)
	u -> (FR6 Require price in a specific gas station)
	a -> (FR7 Manage prices available in each gas station and points needed)
	u -> (FR4 Handle geolocalization and maps)
	g <- (FR4 Handle geolocalization and maps)

	(FR4 Handle geolocalization and maps) <. (FR5 Show points and price available in each gas station): include
	(FR6 Require price in a specific gas station) .>> (FR5 Show points and price available in each gas station): include
	
	a -|> u
}
```
## Use Cases

### Use case 1, UC1 - FR1  Creation account User

| Actors Involved        | User |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems |  
|  Post condition     | New user account with 0 points stored in the server |
|  Nominal Scenario     | User wants to collect points, but it hasn't an account |
|  Variants     | |

### Use case 3, UC3 - FR3 Record code receipt in account

| Actors Involved        | User |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems | 
|      | User account exists and logged |
| | EZGas Server is working and no network problems | 
|  Post condition     | User.balance_post = User.balance_pre + code.points |
|| code stored in EZGas server |
|  Nominal Scenario     | User has a code to insert in the app/website |
|  Variants     |  |


### Use case 4, UC4 - FR4 Handle geolocalization and maps

| Actors Involved        | User and Google Mpas |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems | 
| | Google Maps Server is working and no network problems | 
|  Post condition     | |
|  Nominal Scenario     | User goes into map section to show all gas stations that offer the service EZGas|
|  Variants     |  |

### Use case 5, FR5 Show points and price available in each gas station

| Actors Involved        | User  |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems | 
| | Google Maps Server is working and no network problems |   
|  Post condition     |  |
|  Nominal Scenario     | User click on a gas station in the map section in order to show which prices are available there|
|  Variants     | |

### Use case 6, FR6 Require price in a specific gas station

| Actors Involved        | User |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems | 
|       | prices selected by user and points required from these prices >= points of user |  
|  Post condition     | user.points_post = user.points_pre - prices_selected.points_required |
|  Nominal Scenario     | User selects gas station and prices with a total cost <= points of user. In this way user can collect them in that gas station  |
|  Variants     | |


### Use case 7, FR7 Manage prices available in each gas station and points needed

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     | EZGas Server is working and no network problems | 
|  Post condition     |  |
|  Nominal Scenario     | Administrator defines prices available in a specific gas station and points required in case these prices are new in the EZGas server|
|  Variants     | |

# Relevant scenarios

## Scenario 1

| Scenario ID: SC1        | Corresponds to UC1  |
| ------------- |:-------------| 
| Description | User wants to create an account|
|  Precondition     | EZGas Server is working and no network problems |  
|  Post condition     | New user account with 0 points stored in the server |
| Step#        |  Step description   |
|  1     | User goes to website or app |  
|  2     |  Insert nickname and password |
|  3     | User account created |

## Scenario 2

| Scenario ID: SC2        | Corresponds to all use cases |
| ------------- |:-------------| 
| Description | User or administrator wants to use website/app |
|  Precondition     | EZGas Server is not working | 
|Postcondition |  No usage of service|
| Step#        | Step description  |
|  1     | User tries to perform an action on the website or app |
| 2 | Website or app returns an error of connection |

## Scenario 3

| Scenario ID: SC3        | Corresponds to UC4, UC5  |
| ------------- |:-------------| 
| Description | User or administrator wants to use maps|
|  Precondition     | Google maps Server is not working |  
|  Post condition     | Allow operations without maps |
| Step#        |  Step description   |
|  1     | User/administrator goes to website or app |  
|  2     |  Tries to use geolocalization but isn't working |
|  3     | Apps will allow to insert address or to select gas station from a list without |

## Scenario 4

| Scenario ID: SC4        | Corresponds to UC3  |
| ------------- |:-------------| 
| Description | User wants to record code receipt in account|
|  Precondition     | User account exists and logged |
| | code stored in EZGas server | 
| | EZGas Server is working and no network problems |   
|  Post condition     | User.balance_post = User.balance_pre + code.points |
| | code stored in EZGas server | 
| Step#        |  Step description   |
|  1     |  User refuels vehicle |
|  2     |  User gets code which is also inserted into EZGas Server |
|  3     | User goes to website or app |  
|  4     |  Insert code |
|  5     | Server updates balance and returns success |

## Scenario 5

| Scenario ID: SC5        | Corresponds to UC4  |
| ------------- |:-------------| 
| Description | User wants to the map|
|  Precondition     | EZGas Server is working and no network problems | 
| | Google Maps Server is working and no network problems | 
|  Post condition     | |
| Step#        |  Step description   |
|  1     | User goes to website or app map section |  
|  2     |  App interacts with Google maps API in order to show the map |

## Scenario 6

| Scenario ID: SC6        | Corresponds to UC5  |
| ------------- |:-------------| 
| Description | User wants to show points and price available in each gas station
|
|  Precondition     | EZGas Server is working and no network problems | 
| | Google Maps Server is working and no network problems | 
|  Post condition     | |
| Step#        |  Step description   |
|  1     | User goes to website or app map section |  
|  2     |  App interacts with Google maps API in order to show the map |
|  3     |  User clicks on a gas station |
|  4     |  App returns info required |

## Scenario 7

| Scenario ID: SC7        | Corresponds to UC6  |
| ------------- |:-------------| 
| Description | User wants to require price in a specific gas station
|
|  Precondition     | EZGas Server is working and no network problems | 
|      | prices selected by user and points required from these prices >= points of user |  
|  Post condition     | user.points_post = user.points_pre - prices_selected.points_required |
| Step#        |  Step description   |
|  1     | User goes to website or app map section |  
|  2     |  App interacts with Google maps API in order to show the map |
| 3     |  User clicks on a gas station |
|  4     |  App returns info required |
|  5     |  User selects prices to reedem |
|  6     |  App returns ok and user can go to that gas station to take prices selected |

## Scenario 8

| Scenario ID: SC8        | Corresponds to UC6  |
| ------------- |:-------------| 
| Description | User wants to require price in a specific gas station
|
|  Precondition     | EZGas Server is working and no network problems | 
|      | User doesn't have enough points to reedem  |  
|  Post condition     | |
| Step#        |  Step description   |
|  1     | User goes to website or app |  
|  2     |  App interacts with Google maps API in order to show the map |
|  3     |  User clicks on a gas station |
|  4     |  App returns info required |
|  5     |  User selects prices to reedem |
|  6     |  User selects error |

## Scenario 9

| Scenario ID: SC9        | Corresponds to UC7  |
| ------------- |:-------------| 
| Description | Administrator wants to manage prices available in each gas station and points needed |
|  Precondition     | EZGas Server is working and no network problems |
|  Post condition     | Prices updated|
| Step#        |  Step description   |
|  1     | Administrator goes to website or app |
|  2     |  Administrator selects a gas station |
|  3     |  Administrator can make changes and save |



# Glossary

```plantuml
class EZGas
class User {
+ name
+ surname
}

class Developer {
+ role
}

class Administrator {
+ role
}

class GasStation {
+ location
}

class PersonalAccount {
+ id
+ points
}

class Price {
+ name
+ points_required
}

class Code {
+ id
+ points
}

class AdministratorAccount {
+ id
}


EZGas -- "*" User
EZGas -- "*" Administrator
EZGas -- "*" Developer
EZGas -- "*" Price
Administrator -- AdministratorAccount
User -- PersonalAccount
PersonalAccount -- "*" Code
AdministratorAccount -- "*" GasStation
GasStation -- "*" Price
GasStation -- "*" Code

User <|-- Administrator
User <|-- Developer

```

# System Design

```plantuml
class "Personal Computer"
class "Smartphone"
```

# Deployment Diagram
As a stand-alone application only one node is needed.

```plantuml
artifact "EZGas app and website" as a
artifact "Google Maps API" as gm
node "Personal Computer" as n
node "Smartphone" as m
node "EZGas Server" as s
node "Google Maps Server" as gms
a -- n
a -- m
a -- s
gm -- a
gm -- gms
```


# Official Requirements Document

Author: Behnam Lotfi

Date: 28/03/2020

Version: 1


# Contents
- [Abstract](#abstract)
- [Stakeholders](#stakeholders)
- [Context Diagram and interfaces](#context-diagram-and-interfaces)
	+ [Context Diagram](#context-diagram)
	+ [Interfaces](#interfaces) 
	
- [Stories and personas](#stories-and-personas)
- [Functional and non functional requirements](#functional-and-non-functional-requirements)
	+ [Functional Requirements](#functional-requirements)
	+ [Non functional requirements](#non-functional-requirements)
- [Use case diagram and use cases](#use-case-diagram-and-use-cases)
	+ [Use case diagram](#use-case-diagram)
	+ [Use cases](#use-cases)
	+ [Relevant scenarios](#relevant-scenarios)

# Abstract

EZGas application is an application to find the nearest gas station with the best price and also comparing them by some characteristics like price. This application has two types of users one with authentication to have some privileges which is an Administrator and the other one without those privileges which is a general user. For having some special offers to loyal customers there is a need to have a login system and customer management. The loyality is based on number of feedbacks and also getting noticed by other people to those feedbacks. This shows how much that feedback is valuable. 
Administrators in this system should update gas prices periodically for instance on daily bases. For accomplishing that he/she should check changes among the prices. He/She can use some systems to monitor the changes of gas prices. The administrator is also able to guide the user who is asking, or help or for advertising some promotions.

# Stakeholders

| Stakeholder name  | Description | 
| ----------------- |:-----------:|
| Administrator     | Authorized Users that use the application to update fuel prices with respect to the station and category | 
| EZGas General user|Uses the application to find nearest gas stations with the best price.|
| EZGas Server | Sends data related to the gas stations to clients.|
| Map system | A map system that provides base map for the app like http://openstreetmap.org|
| Payment system | Uses bank ports to pay gas price|

# Context Diagram and interfaces

## Context Diagram


```plantuml
left to right direction
actor Administrator  as a
actor EZGas_General_user as b
a -- (EZGas_Server)
b -- (EZGas_Server)
(EZGas_Server) --> (Mapsystem):<<include>>
(EZGas_Server) --> (Paymentsystem):<<include>>

```

## Interfaces
| Actor | Logical Interface | Physical Interface  |
| ------------- |:-------------:| -----:|
|Administrator|GUI |Screen, keyboard|
|EZGas_General_user|GUI |Screen, keyboard|
|EZGas_Server|Internet|Wi-Fi/4G-LTE/Lan Connectons|
|Payment_System|Internet|Wi-Fi/4G-LTE/Lan Connectons|
|Map_System|Internet|Wi-Fi/4G-LTE/Lan Connectons|

# Stories and personas
Alice works in an office and when he want to go to his office he uses his car. For better experience he uses some applications like ways or google map to find the best path to work. For him it is so useful to find gas stations in his path to work. Because he does not want to change his path so much and consume more fuel for that. Another advantage of finding a proper gas station is loyalty.He can get a special discount using his customer's cards if he is a loyal customer of a special company.

Bob is traveling with his car to a new place and do not know exactly the places and the prices of the gas in the new place. By searching on google map he just finds the place of gas stations and no more data are available about the gas price and also the people feedback in that gas station. He fills the car using an oil company and he thinks he paid a lot for that he needs to tell the other people not use that gas station because of that. 


# Functional and non functional requirements

## Functional Requirements

| ID        | Description  |
| ------------- |:-------------:| 
|  FR1     | Get the position of user to show nearest gas stations|  
|  FR2     | User must login to the application|
|  FR3     | Application will authenticate the user |
|  FR4     | Application will contact a local server to get the info with respect to the stations, prices and availability of the near gas stations on the map |
|  FR5     | Application will sort properly the list of available gas station (best price, distance from user and users feedback) |
|  	FR6     | User chooses a particular gas station  |
|  	FR7     | User fill up his/her car |
|	FR8 	|	User submits a feedback	|




## Non Functional Requirements

| ID        | Type (efficiency, reliability, .. see iso 9126)           | Description  | Refers to |
| ------------- |:-------------:| :-----:| -----:|
|NFR1|Performance| User response time and  All functions should complete in < 0.5 sec in 4G and <1 sec in 3G mobile networks| All FR |
|NFR2|Training time| Time from starting the app to find detail information about gas station | All FR |
|NFR3|Reliability| percentage of failure during usage| All FR |
|  NFR5     | Globalization | number of languages available in app |All FR|
|  NFR6     | Up to date | number of hours to refresh prices ||

# Use case diagram and use cases

## Use case diagram


```plantuml
left to right direction
actor EZGas_General_user as a
a -- (FR1  Get the position)
a -- (FR2 Login to the application)
a -- (FR6 Choose a gas station)
a -- (FR7 Gases up the car)
```


```plantuml
left to right direction
actor EZGas_Server as a
a -- (FR3 User authentication)
a -- (FR5 Evaluates & returns last updated information)
```

```plantuml
left to right direction
actor Administrator as a
a -- (NFR6  Update prices)
a -- (FR8.1 Checking feedbacks)
```
## Use Cases

### Use case 1, UC1 - FR1  Record usage of capsules by colleague

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     | Capsule T exists, colleague C exists |  
|  Post condition     | T.quantity_post < T.quantity_pre |
| | C.PersonalAccount.balance_post < C.PersonalAccount.balance_pre |
|  Nominal Scenario     | Administrator selects capsule type T, selects colleague C, Deduce quantity for capsule T, deduce price of T by account of colleague C|
|  Variants     | Account of colleague C has not enough money, issue warning |

### Use case 2, UC2 - FR2 Record usage of capsules by visitor

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     | Capsule T exists, visitor has no account |  
|  Post condition     | T.quantity_post < T.quantity_pre |
| | LaTazzaAccount.amount_post > LaTazzaAccount.amount_pre |
|  Nominal Scenario     | Administrator selects capsule type T, Deduce quantity for capsule T, add price of T on LaTazzaAccount.amount|
|  Variants     |  |

### Use case 3, UC3 - FR3 Record recharge of account of colleague

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     | Personal Account PA exists , quantity >0 |  
|  Post condition     | PA.balance_post = PA.balance_pre + quantity |
|  | LaTazzaAccount.balance_post = LaTazzaAccount.balance_pre + quantity  |
|  Nominal Scenario     | Administrator selects account PA of colleague C, increase account of  quantity, increase LaTazza account of quantity|
|  Variants     |  |

### Use case 4, UC4 - FR4 Record purchase of capsules

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     | Capsule type CT exists,  LaTazzaAccount.balance has enough money for the purchase|  
|  Post condition     | CT.quantity_post > CT.quantity _pre |
| | LaTazzaAccount.balance_post < LaTazzaAccount.balance_pre|
|  Nominal Scenario     | At time of order Administrator records money spent for order. At time of reception administrator selects capsule type CT, increases its quantity by a given number|
|  Variants     |  |

### Use case 5, FR5 Produce report on consumption of colleague

| Actors Involved        | Administrator  |
| ------------- |:-------------:| 
|  Precondition     | Colleague C exists |  
|  Post condition     |  |
|  Nominal Scenario     | Administrator selects colleague C, defines a time range,  application collects all transactions for C (recharges and capsules taken) in the time range and presents them|
|  Variants     | |

### Use case 6, FR6 Produce report on all consumptions

| Actors Involved        | Administrator |
| ------------- |:-------------:| 
|  Precondition     |  |  
|  Post condition     |  |
|  Nominal Scenario     | Administrator defines a time range,  application collects all transactions (recharges, purchases, and capsules taken) in the time range and presents them |
|  Variants     | |


# Relevant scenarios

## Scenario 1

| Scenario ID: SC1        | Corresponds to UC1  |
| ------------- |:-------------| 
| Description | Colleague uses one capsule of type T|
| Precondition |  account of C has enough money to buy capsule T|
| Postcondition |  account of C updated, count of T updated |
| Step#        |  Step description   |
|  1     | Administrator selects capsule type T |  
|  2     |  Administrator selects colleague C |
|  3     | Deduce one for quantity of capsule T |
| 4 | Deduce price of T from account of C|

## Scenario 2

| Scenario ID: SC2        | Corresponds to UC1  |
| ------------- |:-------------| 
| Description | Colleague uses one capsule of type T, account negative|
|Precondition |  account of C has not enough money to buy capsule T|
|Postcondition |  account of C updated, count of T updated |
| Step#        | Step description  |
|  1     | Administrator selects capsule type T |  
|  2     | Administrator selects colleague C |
|  3     | Deduce one for quantity of capsule T  |
|  4     | Deduce price of T from account of C  |
|  5     | Account of C is negative, issue warning  |
